# 更新日志

本文档记录了多LLM模型比较器项目的所有重要变更。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
项目遵循 [语义化版本](https://semver.org/lang/zh-CN/) 规范。

## [未发布]

### 计划中
- 支持更多模型格式 (ONNX, TensorRT)
- 添加模型性能基准测试
- 实现分布式推理支持
- 添加模型微调功能

## [0.1.0] - 2024-01-15

### 新增
- 🚀 初始版本发布
- 📦 基于uv的Python 3.12项目环境管理
- 🔍 自动模型发现和类型识别功能
  - 支持PyTorch模型格式 (.bin, .pt, .pth, .safetensors)
  - 支持GGUF模型格式 (.gguf)
- 🎛️ 模型选择和配置管理
  - 最多同时比较4个模型
  - PyTorch和GGUF模型的专用参数配置
  - 配置参数实时验证和持久化存储
- 💾 内存优化的模型加载策略
  - 顺序加载模型避免内存溢出
  - 自动资源清理和垃圾回收
  - 内存使用监控和统计
- ⚡ 流式输出和实时显示
  - 实时显示模型生成过程
  - 生成进度和性能统计
  - 支持生成过程中断和错误恢复
- 🎨 Streamlit Web用户界面
  - 直观的模型选择界面
  - 并排输出区域比较
  - 响应式布局设计
- 📝 Markdown渲染和格式化显示
  - 支持代码块语法高亮
  - 表格和列表格式化
  - 原始文本和渲染视图切换
- 📊 结果导出和数据管理
  - 支持JSON、CSV、Markdown、TXT格式导出
  - 比较历史管理和会话恢复
  - 性能统计和分析报告
- 🛡️ 全面的错误处理和用户体验优化
  - 友好的错误提示和解决建议
  - 加载进度指示和状态反馈
  - 操作确认和撤销功能
- 🧪 完整的测试套件
  - 单元测试覆盖核心功能
  - 集成测试验证端到端流程
  - 性能测试和内存泄漏检测
- 📚 完善的文档系统
  - 详细的用户指南和API文档
  - 开发者贡献指南和代码规范
  - 故障排除和最佳实践指导

### 技术特性
- **Python 3.12+** 支持最新Python特性
- **uv包管理器** 现代化的依赖管理
- **Streamlit框架** 快速Web界面开发
- **transformers库** PyTorch模型支持
- **llama-cpp-python** GGUF模型支持
- **多设备支持** CUDA/MPS/CPU自动检测
- **内存优化** 动态加载和智能清理
- **流式处理** 实时输出和响应

### 支持的模型
- **PyTorch模型**
  - Hugging Face transformers格式
  - 标准PyTorch保存格式
  - SafeTensors安全格式
- **GGUF模型**
  - llama.cpp量化格式
  - 多种量化精度支持
  - 硬件加速优化

### 系统要求
- Python 3.12或更高版本
- 最少8GB RAM（推荐16GB+）
- 可选：NVIDIA GPU（CUDA支持）
- 可选：Apple Silicon（MPS支持）

### 安装和使用
```bash
# 安装uv包管理器
curl -LsSf https://astral.sh/uv/install.sh | sh

# 克隆项目
git clone <repository-url>
cd multi-llm-comparator

# 安装依赖
uv sync

# 运行应用
uv run streamlit run src/multi_llm_comparator/main.py
```

### 已知限制
- 最多同时比较4个模型
- 需要足够的系统内存加载大模型
- GGUF模型需要llama-cpp-python编译支持
- 某些模型格式可能需要额外配置

### 贡献者
- 感谢所有为项目做出贡献的开发者
- 特别感谢测试和反馈的用户

---

## 版本说明

### 版本号格式
- **主版本号**: 不兼容的API修改
- **次版本号**: 向下兼容的功能性新增
- **修订号**: 向下兼容的问题修正

### 变更类型
- **新增**: 新功能
- **修改**: 对现有功能的变更
- **弃用**: 不久将移除的功能
- **移除**: 已移除的功能
- **修复**: 问题修复
- **安全**: 安全相关修复

### 发布周期
- **主版本**: 根据重大功能更新发布
- **次版本**: 每月发布，包含新功能和改进
- **修订版本**: 根据需要发布，主要用于bug修复

### 升级指南
每个版本都会提供详细的升级指南，包括：
- 破坏性变更说明
- 迁移步骤
- 配置文件更新
- 依赖版本要求

### 支持政策
- **当前版本**: 完全支持，包括新功能和bug修复
- **前一个主版本**: 安全更新和关键bug修复
- **更早版本**: 仅安全更新

---

## 反馈和贡献

### 报告问题
如果发现bug或有功能建议，请：
1. 查看现有的[Issues](../../issues)
2. 创建新的Issue并提供详细信息
3. 包含系统环境和复现步骤

### 贡献代码
欢迎提交Pull Request：
1. Fork项目仓库
2. 创建功能分支
3. 提交代码并添加测试
4. 创建Pull Request

### 文档改进
文档改进同样重要：
1. 修正错误和不准确的信息
2. 添加使用示例和最佳实践
3. 翻译文档到其他语言

---

*本更新日志将持续更新，记录项目的发展历程。*